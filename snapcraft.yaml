name: zeronet
version: 0.5.1-r1882
summary: Open, free and uncensorable websites
description: |
  Decentralized websites using Bitcoin crypto and the BitTorrent network - https://zeronet.io
  Why?
  We believe in open, free, and uncensored network and communication.
  No single point of failure: Site remains online so long as at least 1 peer is serving it.
  No hosting costs: Sites are served by visitors.
  Impossible to shut down: It's nowhere because it's everywhere.
  Fast and works offline: You can access the site even if Internet is unavailable.

grade: stable
confinement: strict

apps:
  zeronet:
    command: launcher.py
    plugs: [network,network-bind]
  tor:
    command: tor.py
    plugs: [network,network-bind]
parts:
  bundle:
    after:
      - source
    prime:
      - usr
      - bin
      - lib
      - include
      - etc
      - -usr/share/doc
      - -usr/share/man
    source: bundle
    plugin: python
    python-version: python2
    requirements: requirements.txt
  source:
    source: https://github.com/HelloZeroNet/ZeroNet
    source-branch: master
    source-type: git
    organize:
      update.py: unused.update.py
    prime:
      - src
      - tools
      - plugins
      - zeronet.py
      - start.py
    plugin: dump
  scripts:
    source: scripts
    after:
      - bundle
    prime:
      - launcher.py
      - tor.py
      - torrc
      - launch.sh
      - update.py
    plugin: dump
  tor:
    source: https://git.torproject.org/tor.git
    source-tag: tor-0.2.9.9
    source-type: git
    plugin: autotools
    configflags: [--disable-asciidoc]
    build-packages:
      - git
      - build-essential
      - automake
      - libevent-dev
      - libssl-dev
